(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{390:function(e,t,n){e.exports=n(903)},897:function(e,t,n){},903:function(e,t,n){"use strict";n.r(t);var o=n(32),r=n(33),a=n(35),c=n(34),i=n(36),l=n(1),s=n(7),u=n(388),h=n(16),p=h.Tree.TreeNode,f=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(a.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).onSelectTreeNode=function(e){var t=n.props,o=t.songList,r=t.onSelectSong,a=e[0],c=o.find(function(e){return n.getSongAsTreeKey(e)===a});c&&r(c)},n.getSongAsTreeKey=function(e){return"".concat(e.artist," - ").concat(e.name)},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.songList,o=t.searchString,r=t.onSelectSong;if(o){var a=n.map(function(e){return e}).sort(m(o));return l.createElement(h.List,{itemLayout:"horizontal",dataSource:a,renderItem:function(e){return l.createElement(h.List.Item,{onClick:function(){return r(e)}},l.createElement(h.List.Item.Meta,{title:"".concat(e.artist," - ").concat(e.name)}))}})}var c=S(n).map(function(e){return e.sort(d)});return l.createElement(h.Tree,{showIcon:!0,switcherIcon:l.createElement(h.Icon,{type:"down"}),onSelect:this.onSelectTreeNode},c.map(function(t,n){var o="".concat(n);return l.createElement(p,{key:o,title:t[0].artist},t.map(function(t){return l.createElement(p,{key:e.getSongAsTreeKey(t),title:t.name})}))}))}}]),t}(l.Component),g=function(e,t){var n=e.name.toLowerCase(),o=e.artist.toLowerCase();return n.startsWith(t)||o.startsWith(t)?1:n.includes(t)||o.includes(t)?.5:0},m=function(e){var t=e.toLowerCase();return function(e,n){var o=g(e,t),r=g(n,t);return o<r?1:o>r?-1:0}},S=function(e){var t=[],n=!0,o=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){for(var i=a.value,l=!1,s=0,u=t;s<u.length;s++){var h=u[s];h[0].artist===i.artist&&(h.push(i),l=!0)}l||t.push([i])}}catch(p){o=!0,r=p}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return t},d=function(e,t){var n=e.name.toUpperCase(),o=t.name.toUpperCase();return n<o?-1:n>o?1:0},v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).onSearchSong=function(e){n.setState({searchString:e.length>0?e:void 0})},n.state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.songList,o=t.onSelectSong,r=this.state.searchString;return l.createElement("div",null,l.createElement(h.Typography.Title,null,"Select song"),l.createElement(h.Input.Search,{placeholder:"Search text",enterButton:"Search",size:"default",onChange:function(t){return e.onSearchSong(t.target.value)},allowClear:!0}),l.createElement(f,{songList:n,searchString:r,onSelectSong:o}))}}]),t}(l.Component),b=(h.Typography.Title,h.Typography.Text,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.song,n=e.defaultSelectedVersion,o=e.onSelectVersion,r=e.style,a=t.versions;return l.createElement("div",{style:r},a.length>1&&l.createElement("div",null,a.map(function(e,t){return l.createElement(h.Button,{key:"".concat(t),onClick:function(){return o(e)},type:e===n?"primary":"default"},e.name)})))}}]),t}(l.Component)),y=(h.Typography.Title,h.Typography.Text,h.Typography.Paragraph,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).touchStartTime=void 0,n.onDoubleClick=function(){n.props.onClick()},n.onTouchStart=function(){n.touchStartTime=window.performance.now()},n.onTouchEnd=function(){window.performance.now()-n.touchStartTime<=150&&n.props.onClick()},n.state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.version.content.split("\n");return l.createElement("div",{onDoubleClick:this.onDoubleClick,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},e.map(function(e,t){return l.createElement("pre",{key:t,className:"song-content"},e)}))}}]),t}(l.Component)),T=(h.Typography.Title,h.Typography.Text,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.onToggle;return l.createElement("div",null,l.createElement(h.Tooltip,{title:"Also activated by poking / double-clicking !",mouseEnterDelay:1},l.createElement(h.Button,{onClick:n,type:t?"primary":"default"},"Autoscroll ".concat(t?"ON":"OFF"))))}}]),t}(l.Component)),j=n(386),O=h.Typography.Title,E=(h.Typography.Text,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).songContentRef=void 0,n.m=!1,n.onSelectVersion=function(e){n.setState({selectedVersion:e})},n.goToBeginning=function(){j.animateScroll.scrollToTop()},n.onToggleAutoScroll=function(){n.setState({autoScrollActive:!n.state.autoScrollActive})},n.updateAutoScroll=function(){n.m&&(n.state.autoScrollActive?(window.scrollBy(0,1),setTimeout(n.updateAutoScroll,50)):setTimeout(n.updateAutoScroll,100))},n.state={selectedVersion:n.props.song.versions[0],autoScrollActive:!1},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.m=!0,setTimeout(this.updateAutoScroll)}},{key:"componentWillUnmount",value:function(){this.m=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.song,o=t.returnToPrevious,r=this.state,a=r.selectedVersion,c=r.autoScrollActive;return l.createElement("div",null,l.createElement(O,null,n.artist),l.createElement(O,{level:2},n.name),l.createElement("div",null,l.createElement(b,{song:n,defaultSelectedVersion:a,onSelectVersion:this.onSelectVersion,style:{display:"inline-block"}}),l.createElement(h.Affix,{offsetTop:0,style:{float:"right"}},l.createElement(T,{enabled:c,onToggle:this.onToggleAutoScroll}))),l.createElement(y,{ref:function(t){return e.songContentRef=t},song:n,version:a,onClick:this.onToggleAutoScroll}),l.createElement("br",null),l.createElement("div",null,l.createElement(h.Button,{onClick:this.goToBeginning},"To beginning"),l.createElement(h.Button,{onClick:o},"To song selection")))}}]),t}(l.Component)),k=function(e){function t(){return Object(o.a)(this,t),Object(a.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement(h.Spin,{size:"large",className:"absolute-center"})}}]),t}(l.Component),C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(c.a)(t).call(this,e))).onClickSelectSong=function(){n.setState({subState:{id:"select-song"}})},n.onSelectSong=function(e){n.getFullSongInfo(e).then(function(e){var t=n.state.subState;"display-song"===t.id&&n.setState({subState:Object(u.a)({},t,{song:e})})}),n.setState({subState:{id:"display-song",partialSongInfo:e}})},fetch("content/list.json").then(function(e){return e.json()}).then(function(e){return n.setState({songList:e})}),n.state={subState:{id:"none"}},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"getFullSongInfo",value:function(e){return fetch(e.url).then(function(e){return e.json()})}},{key:"render",value:function(){var e=this,t=this.state,n=t.songList,o=t.subState;switch(o.id){case"none":return l.createElement("div",null,l.createElement(h.Typography.Title,null,"Tabz for days - React version"),l.createElement(h.Button,{onClick:this.onClickSelectSong},"Select song"));case"select-song":return n?l.createElement(v,{songList:n,onSelectSong:this.onSelectSong}):l.createElement(k,null);case"display-song":return o.song?l.createElement(E,{song:o.song,returnToPrevious:function(){e.setState({subState:{id:"select-song"}})}}):l.createElement(k,null)}}}]),t}(l.Component),w=(n(897),function(e){function t(){return Object(o.a)(this,t),Object(a.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement(C,null)}}]),t}(l.Component)),A=document.getElementById("root");Object(s.render)(l.createElement(w,null),A)}},[[390,2,1]]]);
//# sourceMappingURL=main.cdc559f9.chunk.js.map